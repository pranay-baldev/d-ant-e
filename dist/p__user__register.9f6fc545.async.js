(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"14J3":function(E,_,e){"use strict";var u=e("cIOH"),O=e.n(u),A=e("1GLa")},BMrR:function(E,_,e){"use strict";var u=e("qrJ5");_.a=u.a},a3w7:function(E,_,e){"use strict";e.r(_);var u=e("14J3"),O=e("BMrR"),A=e("+L6B"),B=e("2/Rp"),ie=e("jCWc"),h=e("kPKH"),ce=e("Q9mQ"),x=e("diRs"),de=e("MXD1"),N=e("CFYs"),I=e("k1fw"),me=e("miYZ"),w=e("tsqr"),m=e("tJVT"),ve=e("5NDa"),i=e("5rEg"),Oe=e("OaEy"),F=e("2fM7"),Pe=e("y8nQ"),P=e("Vl3Y"),o=e("q1tI"),t=e.n(o),R=e("9kvl"),z=e("uYtH"),J=e("sYde"),r=e.n(J),c=P.a.Item,T=F.a.Option,V=i.a.Group,G={ok:t.a.createElement("div",{className:r.a.success},"\u5F3A\u5EA6\uFF1A\u5F3A"),pass:t.a.createElement("div",{className:r.a.warning},"\u5F3A\u5EA6\uFF1A\u4E2D"),poor:t.a.createElement("div",{className:r.a.error},"\u5F3A\u5EA6\uFF1A\u592A\u77ED")},Y={ok:"success",pass:"normal",poor:"exception"},H=function(v){var p=v.submitting,Q=v.dispatch,D=v.userAndregister,$=Object(o.useState)(0),L=Object(m.a)($,2),M=L[0],U=L[1],X=Object(o.useState)(!1),W=Object(m.a)(X,2),f=W[0],K=W[1],Z=Object(o.useState)("86"),y=Object(m.a)(Z,2),j=y[0],k=y[1],q=Object(o.useState)(!1),S=Object(m.a)(q,2),ee=S[0],te=S[1],ae=!1,C,se=P.a.useForm(),re=Object(m.a)(se,1),l=re[0];Object(o.useEffect)(function(){if(!!D){var n=l.getFieldValue("mail");D.status==="ok"&&(w.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),R.c.push({pathname:"/user/register-result",state:{account:n}}))}},[D]),Object(o.useEffect)(function(){return function(){clearInterval(C)}},[]);var _e=function(){var a=59;U(a),C=window.setInterval(function(){a-=1,U(a),a===0&&clearInterval(C)},1e3)},b=function(){var a=l.getFieldValue("password");return a&&a.length>9?"ok":a&&a.length>5?"pass":"poor"},ne=function(a){Q({type:"userAndregister/submit",payload:Object(I.a)(Object(I.a)({},a),{},{prefix:j})})},ue=function(a,s){var d=Promise;return s&&s!==l.getFieldValue("password")?d.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u5339\u914D!"):d.resolve()},le=function(a,s){var d=Promise;return s?(f||K(!!s),te(!ee),s.length<6?d.reject(""):(s&&ae&&l.validateFields(["confirm"]),d.resolve())):(K(!!s),d.reject("\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"))},oe=function(a){k(a)},Ee=function(){var a=l.getFieldValue("password"),s=b();return a&&a.length?t.a.createElement("div",{className:r.a["progress-".concat(s)]},t.a.createElement(N.a,{status:Y[s],className:r.a.progress,strokeWidth:6,percent:a.length*10>100?100:a.length*10,showInfo:!1})):null};return t.a.createElement("div",{className:r.a.main},t.a.createElement("h3",null,"\u6CE8\u518C"),t.a.createElement(P.a,{form:l,name:"UserRegister",onFinish:ne},t.a.createElement(c,{name:"mail",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740\uFF01"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF\uFF01"}]},t.a.createElement(i.a,{size:"large",placeholder:"\u90AE\u7BB1"})),t.a.createElement(x.a,{getPopupContainer:function(a){return a&&a.parentNode?a.parentNode:a},content:f&&t.a.createElement("div",{style:{padding:"4px 0"}},G[b()],Ee(),t.a.createElement("div",{style:{marginTop:10}},"\u8BF7\u81F3\u5C11\u8F93\u5165 6 \u4E2A\u5B57\u7B26\u3002\u8BF7\u4E0D\u8981\u4F7F\u7528\u5BB9\u6613\u88AB\u731C\u5230\u7684\u5BC6\u7801\u3002")),overlayStyle:{width:240},placement:"right",visible:f},t.a.createElement(c,{name:"password",className:l.getFieldValue("password")&&l.getFieldValue("password").length>0&&r.a.password,rules:[{validator:le}]},t.a.createElement(i.a,{size:"large",type:"password",placeholder:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"}))),t.a.createElement(c,{name:"confirm",rules:[{required:!0,message:"\u8BF7\u786E\u8BA4\u5BC6\u7801\uFF01"},{validator:ue}]},t.a.createElement(i.a,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})),t.a.createElement(V,{compact:!0},t.a.createElement(F.a,{size:"large",value:j,onChange:oe,style:{width:"20%"}},t.a.createElement(T,{value:"86"},"+86"),t.a.createElement(T,{value:"87"},"+87")),t.a.createElement(c,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"},{pattern:/^\d{11}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"}]},t.a.createElement(i.a,{size:"large",placeholder:"\u624B\u673A\u53F7"}))),t.a.createElement(O.a,{gutter:8},t.a.createElement(h.a,{span:16},t.a.createElement(c,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"}]},t.a.createElement(i.a,{size:"large",placeholder:"\u9A8C\u8BC1\u7801"}))),t.a.createElement(h.a,{span:8},t.a.createElement(B.a,{size:"large",disabled:!!M,className:r.a.getCaptcha,onClick:_e},M?"".concat(M," s"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"))),t.a.createElement(c,null,t.a.createElement(B.a,{size:"large",loading:p,className:r.a.submit,type:"primary",htmlType:"submit"},"\u6CE8\u518C"),t.a.createElement(z.a,{className:r.a.login,to:"/user/login"},"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"))))};_.default=Object(R.b)(function(g){var v=g.userAndregister,p=g.loading;return{userAndregister:v,submitting:p.effects["userAndregister/submit"]}})(H)},jCWc:function(E,_,e){"use strict";var u=e("cIOH"),O=e.n(u),A=e("1GLa")},kPKH:function(E,_,e){"use strict";var u=e("/kpp");_.a=u.a},sYde:function(E,_,e){E.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}}}]);
